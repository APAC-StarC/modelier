{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/App.vue?64fe","webpack:///./src/components/GalleryItemsPlayer.vue?11c3","webpack:///src/components/GalleryItemsPlayer.vue","webpack:///./src/components/GalleryItemsPlayer.vue?168c","webpack:///./src/components/GalleryItemsPlayer.vue","webpack:///./src/components/GalleryItemViewer.vue?b141","webpack:///src/components/GalleryItemViewer.vue","webpack:///./src/components/GalleryItemViewer.vue?d9ed","webpack:///./src/components/GalleryItemViewer.vue?88a5","webpack:///./src/components/ExplosionPlayer.vue?ff48","webpack:///src/components/ExplosionPlayer.vue","webpack:///./src/components/ExplosionPlayer.vue?824f","webpack:///./src/components/ExplosionPlayer.vue","webpack:///./src/components/ExplosionConfigurator.vue?5f79","webpack:///./src/components/ExplosionOptionItem.vue?2738","webpack:///src/components/ExplosionOptionItem.vue","webpack:///./src/components/ExplosionOptionItem.vue?56d7","webpack:///./src/components/ExplosionOptionItem.vue","webpack:///src/components/ExplosionConfigurator.vue","webpack:///./src/components/ExplosionConfigurator.vue?5e9f","webpack:///./src/components/ExplosionConfigurator.vue","webpack:///./src/components/UndergroundDepictionsConfigurator.vue?12b1","webpack:///./src/components/UndergroundDepictionConfigItem.vue?a95e","webpack:///src/components/UndergroundDepictionConfigItem.vue","webpack:///./src/components/UndergroundDepictionConfigItem.vue?3568","webpack:///./src/components/UndergroundDepictionConfigItem.vue","webpack:///src/components/UndergroundDepictionsConfigurator.vue","webpack:///./src/components/UndergroundDepictionsConfigurator.vue?27ce","webpack:///./src/components/UndergroundDepictionsConfigurator.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js","webpack:///./src/components/GalleryItemViewer.vue?3b83"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","images","selectedImageUid","galleryItemsConfig","on","closeGalleryImage","_e","staticClass","explosionSettings","ptPotreeReferences","toggleOn","toggleOff","model","callback","$$v","galleryOpen","expression","_v","viewer","adminMode","saveOrientationOnSelectedImage","selectGalleryImage","depictionsOpen","undergroundDepictions","undergroundDepictionsSettings","saveToServer","class","isFullscreen","toggleFullScreen","saveInitialStateConfig","loadInitialStateConfig","explosionEnabled","galleryEnabled","depictionsEnabled","sidebarOpen","staticStyle","staticRenderFns","_l","item","uid","url","$event","$emit","_s","title","selectedImage","id","components","Portal","props","component","style","opacity","imgHeight","Slider","computed","console","log","explodeModels","explosionCurrentStep","explosionScaleStepDefault","explosionMoveStepDefault","methods","step","moveStep","scaleStep","entries","ptModels","forEach","opt","pt","scale","set","scaleSize","position","x","initPos","modifier","y","z","$set","ptId","directives","rawName","$$selectedVal","Array","filter","target","options","selected","map","val","_value","multiple","ExplosionOptionItem","udId","p1","p2","p3","p4","rot","depictions","updateMesh","meshes","domProps","composing","saveValues","initP1","clone","initP2","initP3","initP4","initZ","initRot","x1","parseFloat","y1","x2","y2","x3","y3","x4","y4","parseInt","values","UndergroundDepictionConfigItem","Toggle","vectors","mounted","createVectors","createMeshes","rerenderMesh","mesh","width","heigh","height","centerX","centerY","rotation","calcWidthHeight","visible","settings","getCookie","document","cookie","substring","cookieValue","decodeURIComponent","THREE","UndergroundDepictionsConfigurator","ExplosionConfigurator","ExplosionPlayer","GalleryItemsPlayer","GalleryItemViewer","scene","visConfig","potreeProjectConfig","orbitControls","annotationWaitingClick","explosionMoveStep","fullScreen","created","Potree","loadPointCloud","ptConf","e","_this","pointcloud","addPointCloud","fitToScreen","initializeExplosionIfNewModel","add","axesHelper","getControls","addEventListener","keyDown","app","code","pitchDelta","yawDelta","panDelta","mov","radiusDelta","zom","fullscreenElement","exitFullscreen","documentElement","requestFullscreen","saveConfigOnServer","fetch","request","method","body","JSON","stringify","dataToSave","saveProject","customFeaturesConfig","pointclouds","direction","initialPos","addAnnotation","renderer","domElement","hit","currentAnnotation","csvToFloatList","parts","res","closePotreeSidebar","$","left","click","imgUID","conf","viewTarget","viewPosition","setCameraMode","cameraMode","view","setView","targetStr","cameraPositionStr","browserWidth","clientWidth","browserHeight","clientHeight","render","getActiveCamera","Vue","use","VueCompositionAPI","config","productionTip","Viewer","getElementById","parse","textContent","setFOV","setPointBudget","setMinNodeSize","setDescription","menuConf","toolsEnabled","loadGUI","then","setLanguage","showTools","next","html","hide","showScene","showFilters","showAbout","showAppearance","section","content","last","first","slideToggle","append","h","AdminApp","$mount"],"mappings":"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","file":"js/app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/staticfiles/vue/dist/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.selectedImageUid)?_c('div',[_c('portal',{attrs:{\"selector\":\"body\"}},[_c('GalleryItemViewer',{attrs:{\"selected-image\":_vm.images[_vm.selectedImageUid],\"selected-image-conf\":_vm.galleryItemsConfig[_vm.selectedImageUid]},on:{\"image-closed\":_vm.closeGalleryImage}})],1)],1):_vm._e(),_c('div',[(_vm.explosionEnabled)?_c('div',{staticClass:\"text-white mt-4\"},[_c('ExplosionPlayer',{attrs:{\"explosion-settings\":_vm.explosionSettings,\"pt-potree-references\":_vm.ptPotreeReferences}})],1):_vm._e(),(_vm.galleryEnabled)?_c('div',{staticClass:\"mt-4 flex\"},[_c('Toggle',{attrs:{\"classes\":{\n                      toggleOn: 'bg-indigo-600 border-indigo-500 justify-start text-white',\n                      toggleOff: 'bg-gray-200 border-gray-200 justify-end text-gray-700'\n                  }},model:{value:(_vm.galleryOpen),callback:function ($$v) {_vm.galleryOpen=$$v},expression:\"galleryOpen\"}}),(_vm.galleryOpen)?_c('span',{staticClass:\"text-sm font-medium pl-4 block\"},[_vm._v(\"Hide Gallery\")]):_vm._e(),(!_vm.galleryOpen)?_c('span',{staticClass:\"text-sm font-medium pl-4 block\"},[_vm._v(\"Show Gallery\")]):_vm._e()],1):_vm._e(),(_vm.images && _vm.galleryOpen)?_c('div',[_c('GalleryItemsPlayer',{attrs:{\"selected-image\":_vm.images[_vm.selectedImageUid],\"images\":_vm.images,\"gallery-items-config\":_vm.galleryItemsConfig,\"viewer\":_vm.viewer,\"admin-mode\":_vm.adminMode},on:{\"save-image-orientation\":_vm.saveOrientationOnSelectedImage,\"image-selected\":_vm.selectGalleryImage}})],1):_vm._e(),(_vm.depictionsEnabled)?_c('div',{staticClass:\"flex mt-4\"},[_c('Toggle',{attrs:{\"classes\":{\n                      toggleOn: 'bg-indigo-600 border-indigo-500 justify-start text-white',\n                      toggleOff: 'bg-gray-200 border-gray-200 justify-end text-gray-700'\n                  }},model:{value:(_vm.depictionsOpen),callback:function ($$v) {_vm.depictionsOpen=$$v},expression:\"depictionsOpen\"}}),(_vm.depictionsOpen)?_c('span',{staticClass:\"text-sm font-medium pl-4 block\"},[_vm._v(\"GPR Meshes\")]):_vm._e(),(!_vm.depictionsOpen)?_c('span',{staticClass:\"text-sm font-medium pl-4 block\"},[_vm._v(\"GPR Meshes\")]):_vm._e()],1):_vm._e(),(_vm.depictionsEnabled)?_c('div',[_c('UndergroundDepictionsConfigurator',{attrs:{\"depictions\":_vm.undergroundDepictions,\"settings\":_vm.undergroundDepictionsSettings,\"viewer\":_vm.viewer,\"show-config\":_vm.adminMode,\"show-gallery\":_vm.depictionsOpen},on:{\"on-save\":_vm.saveToServer}})],1):_vm._e(),_c('div',{staticClass:\"flex mt-4\"},[_c('button',{staticClass:\"relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",class:[ _vm.isFullscreen ? 'bg-indigo-600' : 'bg-gray-200' ],attrs:{\"type\":\"button\",\"aria-pressed\":\"false\"},on:{\"click\":_vm.toggleFullScreen}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Use setting\")]),_c('span',{staticClass:\"pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200\",class:[ _vm.isFullscreen ? 'translate-x-5' : 'translate-x-0' ],attrs:{\"aria-hidden\":\"true\"}})]),(_vm.isFullscreen)?_c('span',{staticClass:\"text-sm font-medium pl-4\"},[_vm._v(\"Close Fullscreen\")]):_vm._e(),(!_vm.isFullscreen)?_c('span',{staticClass:\"text-sm font-medium pl-4\"},[_vm._v(\"Go Fullscreen\")]):_vm._e()]),(_vm.adminMode)?_c('div',{staticClass:\"py-2 mt-6 text-white\"},[_c('div',{staticClass:\"flex justify-between\"},[_c('span',{staticClass:\"font-semibold\"},[_vm._v(\"Admin config\")]),_c('div',{staticClass:\"relative z-0 inline-flex shadow-sm rounded-md flex flex-wrap\"},[_c('button',{staticClass:\"-ml-px relative inline-flex items-center p-1 mr-2 rounded-md border border-gray-300 bg-white text-md font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.saveInitialStateConfig}},[_vm._v(\" 💾 \")]),_c('button',{staticClass:\"-ml-px relative inline-flex items-center p-1 rounded-md border border-gray-300 bg-white text-md font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.loadInitialStateConfig}},[_vm._v(\" 🔁 \")])])]),_c('hr',{staticClass:\"border-2 border-white mt-4 mb-4\"}),_c('div',{staticClass:\"flex mt-2\"},[_c('Toggle',{attrs:{\"classes\":{\n                      toggleOn: 'bg-indigo-600 border-indigo-500 justify-start text-white',\n                      toggleOff: 'bg-gray-200 border-gray-200 justify-end text-gray-700'\n                  }},model:{value:(_vm.explosionEnabled),callback:function ($$v) {_vm.explosionEnabled=$$v},expression:\"explosionEnabled\"}}),(_vm.explosionEnabled)?_c('span',{staticClass:\"text-sm font-medium pl-4\"},[_vm._v(\"Explosion Enabled\")]):_vm._e(),(!_vm.explosionEnabled)?_c('span',{staticClass:\"text-sm font-medium pl-4\"},[_vm._v(\"Explosion Disabled\")]):_vm._e()],1),(_vm.explosionEnabled)?_c('div',[_c('div',{staticClass:\"mt-2 flex flex-col justify-stretch\"},[_c('ExplosionConfigurator',{attrs:{\"explosion-settings\":_vm.explosionSettings}})],1)]):_vm._e(),_c('hr',{staticClass:\"border border-blue-600 mt-4 mb-4\"}),_c('div',{staticClass:\"flex mt-4\"},[_c('Toggle',{attrs:{\"classes\":{\n                      toggleOn: 'bg-indigo-600 border-indigo-500 justify-start text-white',\n                      toggleOff: 'bg-gray-200 border-gray-200 justify-end text-gray-700'\n                  }},model:{value:(_vm.galleryEnabled),callback:function ($$v) {_vm.galleryEnabled=$$v},expression:\"galleryEnabled\"}}),(_vm.galleryEnabled)?_c('span',{staticClass:\"text-sm font-medium pl-4\"},[_vm._v(\"Gallery Enabled\")]):_vm._e(),(!_vm.galleryEnabled)?_c('span',{staticClass:\"text-sm font-medium pl-4\"},[_vm._v(\"Gallery Disabled\")]):_vm._e()],1),_c('div',{attrs:{\"id\":\"cyi-tools-gallery-config\"}}),_c('hr',{staticClass:\"border border-blue-600 mt-4 mb-4\"}),_c('div',{staticClass:\"flex mt-2\"},[_c('Toggle',{attrs:{\"classes\":{\n                      toggleOn: 'bg-indigo-600 border-indigo-500 justify-start text-white',\n                      toggleOff: 'bg-gray-200 border-gray-200 justify-end text-gray-700'\n                  }},model:{value:(_vm.depictionsEnabled),callback:function ($$v) {_vm.depictionsEnabled=$$v},expression:\"depictionsEnabled\"}}),(_vm.depictionsEnabled)?_c('span',{staticClass:\"text-sm font-medium pl-4\"},[_vm._v(\"GPR Enabled\")]):_vm._e(),(!_vm.depictionsEnabled)?_c('span',{staticClass:\"text-sm font-medium pl-4\"},[_vm._v(\"GPR Disabled\")]):_vm._e()],1),_c('div',{attrs:{\"id\":\"cyi-tools-depictions-config\"}})]):_vm._e()]),_c('portal',{attrs:{\"selector\":\"#cyi-tools-sidebar\"}},[_c('div',{class:[_vm.sidebarOpen ? 'w-56' : 'w-0', 'fixed top-0 bottom-0 right-0 bg-gray-800 flex flex-col text-white overflow-auto'],staticStyle:{\"z-index\":\"100\"},attrs:{\"id\":\"cyi-tools-sidebar-content\"}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('portal',{attrs:{\"selector\":\"#cyi-tools-sidebar-content\"}},[_c('div',{staticClass:\"text-xs px-2 py-2 bg-gray-900 w-100\"},[_vm._v(\"Photo Gallery\")]),_c('div',{staticClass:\"flex flex-col justify-stretch px-2\"},_vm._l((_vm.images),function(item,uid){return _c('div',{key:'img-'+uid,staticClass:\"mt-4\"},[_c('img',{staticClass:\"w-100 w-max-100 rounded-sm border border-gray-200\",attrs:{\"src\":item.url},on:{\"click\":function($event){return _vm.$emit('image-selected',uid)}}}),_c('div',{staticClass:\"block text-xs mt-2\"},[_vm._v(\"Title: \"),_c('span',{staticClass:\"italic font-semibold\"},[_vm._v(_vm._s(item.title))])]),(_vm.adminMode)?_c('div',{staticClass:\"mt-2 flex justify-between text-sm font-semibold\"},[_c('button',{staticClass:\"text-red-600 italic\",on:{\"click\":function($event){return _vm.$emit('save-image-orientation',uid)}}},[_vm._v(\"Save orientation...\")]),(_vm.selectedImage && _vm.selectedImage.id==uid)?_c('span',{staticClass:\"text-blue-700\"},[_vm._v(\"Active\")]):_vm._e()]):_vm._e()])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <portal selector=\"#cyi-tools-sidebar-content\">\r\n    <div class=\"text-xs px-2 py-2 bg-gray-900 w-100\">Photo Gallery</div>\r\n    <div class=\"flex flex-col justify-stretch px-2\">\r\n      <div class=\"mt-4\" v-for=\"(item, uid) in images\" v-bind:key=\"'img-'+uid\">\r\n        <img class=\"w-100 w-max-100 rounded-sm border border-gray-200\" v-bind:src=\"item.url\"\r\n             v-on:click=\"$emit('image-selected',uid)\"/>\r\n        <div class=\"block text-xs mt-2\">Title: <span class=\"italic font-semibold\">{{ item.title }}</span></div>\r\n        <div class=\"mt-2 flex justify-between text-sm font-semibold\" v-if=\"adminMode\"><button v-on:click=\"$emit('save-image-orientation',uid)\" class=\"text-red-600 italic\">Save orientation...</button><span v-if=\"selectedImage && selectedImage.id==uid\" class=\"text-blue-700\">Active</span></div>\r\n      </div>\r\n    </div>\r\n  </portal>\r\n</template>\r\n\r\n<script>\r\nimport {Portal} from '@linusborg/vue-simple-portal'\r\n\r\nexport default {\r\n  name: \"GalleryItemsPlayer\",\r\n  components: {\r\n    Portal\r\n  },\r\n  data() {\r\n    return {}\r\n  },\r\n  props: ['galleryItemsConfig', 'viewer', 'images', 'selectedImage','adminMode'],\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GalleryItemsPlayer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GalleryItemsPlayer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GalleryItemsPlayer.vue?vue&type=template&id=a761fe44&scoped=true&\"\nimport script from \"./GalleryItemsPlayer.vue?vue&type=script&lang=js&\"\nexport * from \"./GalleryItemsPlayer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a761fe44\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"selected-image-container\"},[_c('img',{staticClass:\"centered-fixed\",style:({'opacity':_vm.opacity, 'max-height':_vm.imgHeight + 'px'}),attrs:{\"src\":_vm.selectedImage.url,\"width\":\"auto\"}}),_c('div',{staticClass:\"controls\"},[_c('Slider',{staticStyle:{\"width\":\"200px\"},attrs:{\"min\":0.1,\"max\":1,\"step\":-1},model:{value:(_vm.opacity),callback:function ($$v) {_vm.opacity=$$v},expression:\"opacity\"}}),_c('button',{staticClass:\"close-img-button text-gray-900 bg-white rounded-sm px-2 py-1 font-normal text-normal\",on:{\"click\":function($event){return _vm.$emit('image-closed')}}},[_vm._v(\"close \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"selected-image-container\">\r\n      <img v-bind:src=\"selectedImage.url\" width=\"auto\"  class=\"centered-fixed\" v-bind:style=\"{'opacity':opacity, 'max-height':imgHeight + 'px'}\"/>\r\n      <div class=\"controls\">\r\n        <Slider v-model=\"opacity\" v-bind:min=\"0.1\" v-bind:max=\"1\" v-bind:step=\"-1\" style=\"width:200px\" />\r\n        <button class=\"close-img-button text-gray-900 bg-white rounded-sm px-2 py-1 font-normal text-normal\" v-on:click=\"$emit('image-closed')\">close\r\n        </button>\r\n      </div>\r\n   </div>\r\n</template>\r\n\r\n<script>\r\nimport Slider from '@vueform/slider/dist/slider.vue2.js'\r\nexport default {\r\n  name: \"GalleryItemViewer\",\r\n  components:{\r\n    Slider\r\n  },\r\n  data() {\r\n    return {\r\n      opacity: 0.5,\r\n    }\r\n  },\r\n  props: ['selectedImage', 'selectedImageConf'],\r\n  computed:{\r\n\r\n    imgHeight:function(){\r\n      const originalBrowserHeightOnSave = this.selectedImageConf.browserHeight || 0;\r\n      const currentBrowserHeight = document.documentElement.clientHeight;\r\n      const originalBroweserHeight = originalBrowserHeightOnSave || currentBrowserHeight;\r\n      console.log('originalBrowserHeightOnSave',originalBrowserHeightOnSave,'currentBrowserHeight',currentBrowserHeight, 'imgHeight', this.selectedImage.height, 'originalBroweserHeight',originalBroweserHeight);\r\n      const imgHeight = this.selectedImage.height * currentBrowserHeight / originalBroweserHeight;\r\n      console.log(\"Calculated Image height:\", imgHeight);\r\n      return imgHeight;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.selected-image-container{\r\n  overflow:hidden;\r\n}\r\n.selected-image-container img {\r\n  max-width: 10000px;\r\n}\r\n.controls{\r\n  z-index: 100;\r\n  position: fixed;\r\n  top: 0;\r\n  left:0;\r\n  right:0;\r\n  padding-top:5px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  justify-content: center;\r\n}\r\n.centered-fixed{\r\n  z-index: 50;\r\n  position: fixed;\r\n  top:50%;\r\n  left:50%;\r\n  transform: translate(-50%, -50%);\r\n  pointer-events: none;\r\n}\r\n</style>\r\n<style src=\"@vueform/slider/themes/default.css\"></style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GalleryItemViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GalleryItemViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GalleryItemViewer.vue?vue&type=template&id=54d83422&scoped=true&\"\nimport script from \"./GalleryItemViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./GalleryItemViewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GalleryItemViewer.vue?vue&type=style&index=0&id=54d83422&scoped=true&lang=css&\"\nimport style1 from \"@vueform/slider/themes/default.css?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54d83422\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',{staticClass:\"text-sm block mb-2\"},[_vm._v(\"💥 Explode scene \")]),_c('Slider',{attrs:{\"tooltips\":false},on:{\"update\":_vm.explodeModels},model:{value:(_vm.explosionCurrentStep),callback:function ($$v) {_vm.explosionCurrentStep=$$v},expression:\"explosionCurrentStep\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <span class=\"text-sm block mb-2\">💥 Explode scene </span>\r\n    <Slider v-model=\"explosionCurrentStep\" v-bind:tooltips=\"false\" v-on:update=\"explodeModels\"></Slider>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Slider from '@vueform/slider/dist/slider.vue2.js'\r\n\r\nexport default {\r\n  name: \"ExplosionPlayer.vue\",\r\n  components: {\r\n    Slider\r\n  },\r\n  data() {\r\n    return {\r\n      explosionCurrentStep: 0,\r\n      explosionScaleStepDefault: 10,\r\n      explosionMoveStepDefault: 10\r\n    }\r\n  },\r\n  props: ['explosionSettings', 'ptPotreeReferences'],\r\n  methods: {\r\n    explodeModels: function () {\r\n      //this.explosionCurrentStep = this.explosionCurrentStep + plusminus;\r\n      const step = this.explosionCurrentStep;\r\n      const moveStep = this.explosionSettings?.explosionMoveStep ? this.explosionSettings.explosionMoveStep / 100 : this.explosionMoveStepDefault / 100;\r\n      const scaleStep = this.explosionSettings?.explosionScaleStep ? this.explosionSettings.explosionScaleStep / 100 : this.explosionScaleStepDefault / 100;\r\n      console.log(\"Trying to explode with step\", step, \" moveStep\", moveStep, \" scaleStep\", scaleStep);\r\n      Object.entries(this.explosionSettings.ptModels).forEach(([ptId, item]) => {\r\n        const pt = this.ptPotreeReferences[ptId];\r\n        const opt = item.direction;\r\n        const initPos = item.initialPos;\r\n        const modifier = step * moveStep;\r\n        if (opt === 'scale') {\r\n          const scaleSize = 1 + (step * scaleStep);\r\n          pt.scale.set(scaleSize, scaleSize, scaleSize);\r\n        }\r\n        if (opt === 'right') {\r\n          pt.position.x = initPos.x - modifier;\r\n        }\r\n        if (opt === 'left') {\r\n          pt.position.x = initPos.x + modifier;\r\n        }\r\n        if (opt === 'front') {\r\n          pt.position.y = initPos.y - modifier;\r\n        }\r\n        if (opt === 'back') {\r\n          pt.position.y = initPos.y + modifier;\r\n        }\r\n        if (opt === 'up') {\r\n          pt.position.z = initPos.z - modifier;\r\n        }\r\n        if (opt === 'down') {\r\n          pt.position.z = initPos.z + modifier;\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n<style src=\"@vueform/slider/themes/default.css\"></style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplosionPlayer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplosionPlayer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExplosionPlayer.vue?vue&type=template&id=9efbafca&scoped=true&\"\nimport script from \"./ExplosionPlayer.vue?vue&type=script&lang=js&\"\nexport * from \"./ExplosionPlayer.vue?vue&type=script&lang=js&\"\nimport style1 from \"@vueform/slider/themes/default.css?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9efbafca\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',{staticClass:\"text-xs block mt-4\"},[_vm._v(\"Movement speed:\")]),_c('div',[_c('Slider',{model:{value:(_vm.explosionSettings.explosionMoveStep),callback:function ($$v) {_vm.$set(_vm.explosionSettings, \"explosionMoveStep\", $$v)},expression:\"explosionSettings.explosionMoveStep\"}})],1),_c('span',{staticClass:\"text-xs block mt-4\"},[_vm._v(\"Movement:\")]),_vm._l((_vm.explosionSettings.ptModels),function(item,ptId){return _c('div',{key:'explode-'+ptId},[_c('ExplosionOptionItem',{attrs:{\"item\":item,\"pt-id\":ptId}})],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mt-2 flex flex-col items-stretch\"},[_c('span',[_vm._v(_vm._s(_vm.item.title)+\":\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.item.direction),expression:\"item.direction\"}],staticClass:\"h-8 text-gray-900\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.item, \"direction\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"disabled\":\"\",\"value\":\"\"}},[_vm._v(\"Please select\")]),_c('option',{attrs:{\"value\":\"left\"}},[_vm._v(\"left (-x)\")]),_c('option',{attrs:{\"value\":\"right\"}},[_vm._v(\"right (+x)\")]),_c('option',{attrs:{\"value\":\"back\"}},[_vm._v(\"back (-y)\")]),_c('option',{attrs:{\"value\":\"front\"}},[_vm._v(\"front (+y)\")]),_c('option',{attrs:{\"value\":\"down\"}},[_vm._v(\"down (-z)\")]),_c('option',{attrs:{\"value\":\"up\"}},[_vm._v(\"up (+z)\")]),_c('option',{attrs:{\"value\":\"dontmove\"}},[_vm._v(\"do nothing\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"mt-2 flex flex-col items-stretch\">\r\n    <span>{{ item.title }}:</span>\r\n    <select v-model=\"item.direction\" class=\"h-8 text-gray-900\">\r\n      <option disabled value=\"\">Please select</option>\r\n      <option value=\"left\">left (-x)</option>\r\n      <option value=\"right\">right (+x)</option>\r\n      <option value=\"back\">back (-y)</option>\r\n      <option value=\"front\">front (+y)</option>\r\n      <option value=\"down\">down (-z)</option>\r\n      <option value=\"up\">up (+z)</option>\r\n      <option value='dontmove'>do nothing</option>\r\n    </select>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ExplosionOptionItem\",\r\n  props: ['ptId','item'],\r\n  data() {\r\n    return {}\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplosionOptionItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplosionOptionItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExplosionOptionItem.vue?vue&type=template&id=702cca04&scoped=true&\"\nimport script from \"./ExplosionOptionItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ExplosionOptionItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"702cca04\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <span class=\"text-xs block mt-4\">Movement speed:</span>\r\n    <div>\r\n      <Slider v-model=\"explosionSettings.explosionMoveStep\"/>\r\n    </div>\r\n    <span class=\"text-xs block mt-4\">Movement:</span>\r\n    <div v-for=\"(item, ptId) in explosionSettings.ptModels\" v-bind:key=\"'explode-'+ptId\">\r\n      <ExplosionOptionItem v-bind:item=\"item\" v-bind:pt-id=\"ptId\"></ExplosionOptionItem>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Slider from '@vueform/slider/dist/slider.vue2.js'\r\nimport ExplosionOptionItem from './ExplosionOptionItem.vue'\r\n\r\nexport default {\r\n  name: \"ExplosionConfigurator.vue\",\r\n  components: {\r\n    Slider,\r\n    ExplosionOptionItem\r\n  },\r\n  props: ['explosionSettings'],\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n<style src=\"@vueform/slider/themes/default.css\"></style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplosionConfigurator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplosionConfigurator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExplosionConfigurator.vue?vue&type=template&id=36734707&scoped=true&\"\nimport script from \"./ExplosionConfigurator.vue?vue&type=script&lang=js&\"\nexport * from \"./ExplosionConfigurator.vue?vue&type=script&lang=js&\"\nimport style1 from \"@vueform/slider/themes/default.css?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36734707\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.showConfig)?_c('div',[_c('portal',{attrs:{\"selector\":\"#cyi-tools-depictions-config\"}},_vm._l((_vm.vectors),function(item,udId){return _c('div',{key:'underDepict-'+udId,staticClass:\"bg-gray-100 rounded-xl text-gray-900 px-1\"},[_c('UndergroundDepictionConfigItem',{attrs:{\"init-p1\":item.p1,\"init-p2\":item.p2,\"init-p3\":item.p3,\"init-p4\":item.p4,\"init-z\":item.z,\"init-rot\":item.rot,\"item\":_vm.depictions[udId],\"ud-id\":udId},on:{\"item-config-updated\":_vm.updateMesh}})],1)}),0)],1):_vm._e(),(_vm.showGallery)?_c('div',{staticClass:\"mt-2\"},_vm._l((_vm.depictions),function(item,udId){return _c('div',{key:'depictGalleryItem-'+udId,staticClass:\"px-2 py-1\"},[(_vm.meshes[udId])?_c('div',{staticClass:\"flex\"},[_c('Toggle',{model:{value:(_vm.meshes[udId].visible),callback:function ($$v) {_vm.$set(_vm.meshes[udId], \"visible\", $$v)},expression:\"meshes[udId].visible\"}}),_c('span',{staticClass:\"block ml-2 text-xs mt-2 text-center\"},[_vm._v(_vm._s(item.title))])],1):_vm._e()])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mt-2 flex flex-col max-w-100 text-xs\"},[_c('span',{staticClass:\"block font-semibold text-sm text-center\"},[_vm._v(_vm._s(_vm.item.title))]),_c('div',{staticClass:\"flex flex-col mb-2\"},[_c('div',[_c('span',[_vm._v(\"x1: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.p1.x),expression:\"p1.x\"}],domProps:{\"value\":(_vm.p1.x)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.p1, \"x\", $event.target.value)}}})]),_c('div',[_c('span',[_vm._v(\"y1: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.p1.y),expression:\"p1.y\"}],domProps:{\"value\":(_vm.p1.y)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.p1, \"y\", $event.target.value)}}})])]),_c('div',{staticClass:\"flex flex-col mb-2\"},[_c('div',[_c('span',[_vm._v(\"x2: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.p2.x),expression:\"p2.x\"}],domProps:{\"value\":(_vm.p2.x)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.p2, \"x\", $event.target.value)}}})]),_c('div',[_c('span',[_vm._v(\"y2: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.p2.y),expression:\"p2.y\"}],domProps:{\"value\":(_vm.p2.y)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.p2, \"y\", $event.target.value)}}})])]),_c('div',{staticClass:\"flex flex-col mb-2\"},[_c('div',[_c('span',[_vm._v(\"x3: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.p3.x),expression:\"p3.x\"}],domProps:{\"value\":(_vm.p3.x)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.p3, \"x\", $event.target.value)}}})]),_c('div',[_c('span',[_vm._v(\"y3: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.p3.y),expression:\"p3.y\"}],domProps:{\"value\":(_vm.p3.y)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.p3, \"y\", $event.target.value)}}})])]),_c('div',{staticClass:\"flex flex-col mb-2\"},[_c('div',[_c('span',[_vm._v(\"x4: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.p4.x),expression:\"p4.x\"}],domProps:{\"value\":(_vm.p4.x)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.p4, \"x\", $event.target.value)}}})]),_c('div',[_c('span',[_vm._v(\"y4: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.p4.y),expression:\"p4.y\"}],domProps:{\"value\":(_vm.p4.y)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.p4, \"y\", $event.target.value)}}})])]),_c('div',{staticClass:\"flex flex-col mb-2\"},[_c('div',[_c('span',[_vm._v(\"z: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.z),expression:\"z\"}],domProps:{\"value\":(_vm.z)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.z=$event.target.value}}})]),_c('div',[_c('span',[_vm._v(\"Rot(deg) \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rot),expression:\"rot\"}],domProps:{\"value\":(_vm.rot)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.rot=$event.target.value}}})])]),_c('button',{on:{\"click\":_vm.saveValues}},[_vm._v(\"Update\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"mt-2 flex flex-col max-w-100 text-xs\">\r\n    <span class=\"block font-semibold text-sm text-center\">{{ item.title }}</span>\r\n    <div class=\"flex flex-col mb-2\">\r\n      <div><span>x1: </span><input v-model=\"p1.x\" class=\"\"/></div>\r\n      <div><span>y1: </span><input v-model=\"p1.y\" class=\"\"/></div>\r\n    </div>\r\n    <div class=\"flex flex-col mb-2\">\r\n      <div><span>x2: </span><input v-model=\"p2.x\" class=\"\"/></div>\r\n      <div><span>y2: </span><input v-model=\"p2.y\" class=\"\"/></div>\r\n    </div>\r\n    <div class=\"flex flex-col mb-2\">\r\n      <div><span>x3: </span><input v-model=\"p3.x\" class=\"\"/></div>\r\n      <div><span>y3: </span><input v-model=\"p3.y\" class=\"\"/></div>\r\n    </div>\r\n    <div class=\"flex flex-col mb-2\">\r\n      <div><span>x4: </span><input v-model=\"p4.x\" class=\"\" /></div>\r\n      <div><span>y4: </span><input v-model=\"p4.y\" class=\"\" /></div>\r\n    </div>\r\n    <div class=\"flex flex-col mb-2\">\r\n      <div><span>z: </span><input v-model=\"z\" /></div>\r\n      <div><span>Rot(deg) </span><input v-model=\"rot\" /></div>\r\n    </div>\r\n\r\n    <button v-on:click=\"saveValues\">Update</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"UndergroundDepictionConfigItem\",\r\n  props: ['udId', 'item', 'initP1', 'initP2', 'initP3', 'initP4', 'initZ', 'initRot'],\r\n  data() {\r\n    return {\r\n      p1: this.initP1.clone(),\r\n      p2: this.initP2.clone(),\r\n      p3: this.initP3.clone(),\r\n      p4: this.initP4.clone(),\r\n      z: this.initZ,\r\n      rot: this.initRot,\r\n    }\r\n  },\r\n  methods: {\r\n    saveValues() {\r\n      console.log(\"Saving values...\");\r\n      const values = {\r\n        x1: parseFloat(this.p1.x),\r\n        y1: parseFloat(this.p1.y),\r\n        x2: parseFloat(this.p2.x),\r\n        y2: parseFloat(this.p2.y),\r\n        x3: parseFloat(this.p3.x),\r\n        y3: parseFloat(this.p3.y),\r\n        x4: parseFloat(this.p4.x),\r\n        y4: parseFloat(this.p4.y),\r\n        z: parseFloat(this.z),\r\n        rot: parseInt(this.rot),\r\n      }\r\n      this.$emit('item-config-updated', this.udId, values);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UndergroundDepictionConfigItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UndergroundDepictionConfigItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UndergroundDepictionConfigItem.vue?vue&type=template&id=3b0c49fd&scoped=true&\"\nimport script from \"./UndergroundDepictionConfigItem.vue?vue&type=script&lang=js&\"\nexport * from \"./UndergroundDepictionConfigItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b0c49fd\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <div v-if=\"showConfig\">\r\n      <portal selector=\"#cyi-tools-depictions-config\">\r\n        <div v-for=\"(item, udId) in vectors\" v-bind:key=\"'underDepict-'+udId\"\r\n             class=\"bg-gray-100 rounded-xl text-gray-900 px-1\">\r\n          <UndergroundDepictionConfigItem\r\n              v-on:item-config-updated=\"updateMesh\"\r\n              v-bind:init-p1=\"item.p1\"\r\n              v-bind:init-p2=\"item.p2\"\r\n              v-bind:init-p3=\"item.p3\"\r\n              v-bind:init-p4=\"item.p4\"\r\n              v-bind:init-z=\"item.z\"\r\n              v-bind:init-rot=\"item.rot\"\r\n              v-bind:item=\"depictions[udId]\"\r\n              v-bind:ud-id=\"udId\"\r\n          ></UndergroundDepictionConfigItem>\r\n        </div>\r\n      </portal>\r\n    </div>\r\n    <div v-if=\"showGallery\" class=\"mt-2\">\r\n      <div v-for=\"(item, udId) in depictions\" v-bind:key=\"'depictGalleryItem-'+udId\"\r\n           class=\"px-2 py-1\">\r\n        <div v-if=\"meshes[udId]\" class=\"flex\">\r\n          <Toggle v-model=\"meshes[udId].visible\"></Toggle>\r\n          <span class=\"block ml-2 text-xs mt-2 text-center\">{{ item.title }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UndergroundDepictionConfigItem from \"./UndergroundDepictionConfigItem.vue\";\r\nimport * as THREE from \"three\";\r\nimport {Portal} from '@linusborg/vue-simple-portal'\r\nimport Toggle from '@vueform/toggle/dist/toggle.vue2.js'\r\n\r\nexport default {\r\n  name: \"UndergroundDepictionsConfigurator\",\r\n  components: {\r\n    UndergroundDepictionConfigItem,\r\n    Portal,\r\n    Toggle\r\n  },\r\n  props: ['settings', 'depictions', 'viewer', 'showConfig', 'showGallery'],\r\n  data() {\r\n    return {\r\n      meshes: {},\r\n      vectors: null,\r\n    }\r\n  },\r\n  mounted() {\r\n    this.createVectors();\r\n    this.createMeshes();\r\n  },\r\n  methods: {\r\n    createVectors() {\r\n      let vectors = {}\r\n      Object.entries(this.depictions).forEach(([udId]) => {\r\n        const vals = this.settings[udId] || {x1: 0, y1: 0, x2: 0, y2: 0, x3: 0, y3: 0, x4: 0, y4: 0, z: 0, rot: 0};\r\n        const p1 = new THREE.Vector2(vals.x1, vals.y1);\r\n        const p2 = new THREE.Vector2(vals.x2, vals.y2);\r\n        const p3 = new THREE.Vector2(vals.x3, vals.y3);\r\n        const p4 = new THREE.Vector2(vals.x4, vals.y4);\r\n        const z = vals.z;\r\n        const rot = vals.rot;\r\n        vectors[udId] = {\r\n          p1,\r\n          p2,\r\n          p3,\r\n          p4,\r\n          z,\r\n          rot,\r\n        }\r\n      });\r\n      this.vectors = vectors;\r\n    },\r\n    rerenderMesh(mesh, width, height, rot, z, centerX, centerY) {\r\n\r\n      mesh.width = width;\r\n      mesh.heigh = height;\r\n      mesh.position.set(centerX, centerY, z);\r\n      mesh.rotation.z = rot * 3.14 / 180;\r\n      //mesh.rotation.x = 3.14;\r\n      mesh.rotation.y = 3.14;\r\n    },\r\n    calcWidthHeight(p1, p2, p3, p4) {\r\n      const centerX = (p1.x + p2.x + p3.x + p4.x) / 4;\r\n      const centerY = (p1.y + p2.y + p3.y + p4.y) / 4;\r\n      // const center = new THREE.Vector2(centerX, centerY);\r\n      // p1.rotateAround(center, rotRad);\r\n      // p2.rotateAround(center, rotRad);\r\n      // p3.rotateAround(center, rotRad);\r\n      // p4.rotateAround(center, rotRad);\r\n\r\n      const dist1 = (p1.distanceTo(p4) + p2.distanceTo(p3)) / 2;  //(this.calcDistance(vals.x4, vals.y4, vals.x1, vals.y1) + this.calcDistance(vals.x3, vals.y3, vals.x2, vals.y2)) / 2;\r\n      const dist2 = (p2.distanceTo(p1) + p3.distanceTo(p4)) / 2;  //this.calcDistance(vals.x2, vals.y2, vals.x1, vals.y1) + this.calcDistance(vals.x3, vals.y3, vals.x4, vals.y4)) / 2;\r\n      const width = Math.max(dist1, dist2);\r\n      const height = Math.min(dist1, dist2);\r\n      return {width, height, centerX, centerY}\r\n    },\r\n    createMeshes() {\r\n      Object.entries(this.depictions).forEach(([udId, item]) => {\r\n        const map = new THREE.TextureLoader().load(item.url);\r\n        const material = new THREE.MeshBasicMaterial({map: map, opacity: 0.9, transparent: true,});\r\n        if (!this.settings[udId]) {\r\n          return;\r\n        }\r\n        //const centerX = (p1.x + p2.x + p3.x3 + p4.x4) / 4;\r\n        //const centerY = (vals.y1 + vals.y2 + vals.y3 + vals.y4) / 4;\r\n        let {p1, p2, p3, p4} = this.vectors[udId];\r\n        const {z, rot} = this.settings[udId];\r\n        const {width, height, centerX, centerY} = this.calcWidthHeight(p1, p2, p3, p4);\r\n        const mesh = new THREE.Mesh(new THREE.BoxGeometry(width, height, 0.01), material);\r\n        mesh.visible = false;\r\n        this.viewer.scene.scene.add(mesh);\r\n        this.rerenderMesh(mesh, width, height, rot, z, centerX, centerY);\r\n        this.meshes[udId] = mesh;\r\n      })\r\n    },\r\n    updateMesh(udId, vals) {\r\n      const p1 = new THREE.Vector2(vals.x1, vals.y1);\r\n      const p2 = new THREE.Vector2(vals.x2, vals.y2);\r\n      const p3 = new THREE.Vector2(vals.x3, vals.y3);\r\n      const p4 = new THREE.Vector2(vals.x4, vals.y4);\r\n      const {z, rot} = vals;\r\n      this.vectors[udId] = {\r\n        p1,\r\n        p2,\r\n        p3,\r\n        p4,\r\n        z,\r\n        rot\r\n      };\r\n      this.settings[udId] = {\r\n        x1: p1.x,\r\n        y1: p1.y,\r\n        x2: p2.x,\r\n        y2: p2.y,\r\n        x3: p3.x,\r\n        y3: p3.y,\r\n        x4: p4.x,\r\n        y4: p4.y,\r\n        z,\r\n        rot\r\n      }\r\n      const {width, height, centerX, centerY} = this.calcWidthHeight(p1, p2, p3, p4);\r\n      const mesh = this.meshes[udId];\r\n      this.$emit('on-save', 'depictions');\r\n      this.rerenderMesh(mesh, width, height, rot, z, centerX, centerY);\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n<style src=\"@vueform/toggle/themes/default.css\"></style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UndergroundDepictionsConfigurator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UndergroundDepictionsConfigurator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UndergroundDepictionsConfigurator.vue?vue&type=template&id=52a37272&scoped=true&\"\nimport script from \"./UndergroundDepictionsConfigurator.vue?vue&type=script&lang=js&\"\nexport * from \"./UndergroundDepictionsConfigurator.vue?vue&type=script&lang=js&\"\nimport style1 from \"@vueform/toggle/themes/default.css?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52a37272\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\" class=\"\">\n    <div v-if=\"selectedImageUid\">\n      <portal selector=\"body\">\n        <GalleryItemViewer v-on:image-closed=\"closeGalleryImage\"\n                           v-bind:selected-image=\"images[selectedImageUid]\" v-bind:selected-image-conf=\"galleryItemsConfig[selectedImageUid]\"></GalleryItemViewer>\n      </portal>\n    </div>\n    <div>\n      <div v-if=\"explosionEnabled\" class=\"text-white mt-4\">\n        <ExplosionPlayer v-bind:explosion-settings=\"explosionSettings\"\n                         v-bind:pt-potree-references=\"ptPotreeReferences\"></ExplosionPlayer>\n      </div>\n      <div class=\"mt-4 flex\" v-if=\"galleryEnabled\">\n        <!-- Enabled: \"bg-indigo-600\", Not Enabled: \"bg-gray-200\" -->\n        <Toggle v-model=\"galleryOpen\" :classes=\"{\n                        toggleOn: 'bg-indigo-600 border-indigo-500 justify-start text-white',\n                        toggleOff: 'bg-gray-200 border-gray-200 justify-end text-gray-700'\n                    }\"></Toggle>\n        <span class=\"text-sm font-medium pl-4 block\" v-if=\"galleryOpen\">Hide Gallery</span>\n        <span class=\"text-sm font-medium pl-4 block\" v-if=\"!galleryOpen\">Show Gallery</span>\n      </div>\n      <div v-if=\"images && galleryOpen\">\n        <GalleryItemsPlayer\n            v-on:save-image-orientation=\"saveOrientationOnSelectedImage\"\n            v-on:image-selected=\"selectGalleryImage\"\n            v-bind:selected-image=\"images[selectedImageUid]\"\n            v-bind:images=\"images\"\n            v-bind:gallery-items-config=\"galleryItemsConfig\"\n            v-bind:viewer=\"viewer\"\n            v-bind:admin-mode=\"adminMode\"\n        >\n        </GalleryItemsPlayer>\n      </div>\n      <div class=\"flex mt-4\" v-if=\"depictionsEnabled\">\n        <!-- Enabled: \"bg-indigo-600\", Not Enabled: \"bg-gray-200\" -->\n        <Toggle v-model=\"depictionsOpen\" :classes=\"{\n                        toggleOn: 'bg-indigo-600 border-indigo-500 justify-start text-white',\n                        toggleOff: 'bg-gray-200 border-gray-200 justify-end text-gray-700'\n                    }\"></Toggle>\n        <span class=\"text-sm font-medium pl-4 block\" v-if=\"depictionsOpen\">GPR Meshes</span>\n        <span class=\"text-sm font-medium pl-4 block\" v-if=\"!depictionsOpen\">GPR Meshes</span>\n      </div>\n      <div v-if=\"depictionsEnabled\">\n        <UndergroundDepictionsConfigurator\n            v-bind:depictions=\"undergroundDepictions\"\n            v-bind:settings=\"undergroundDepictionsSettings\"\n            v-bind:viewer=\"viewer\"\n            v-bind:show-config=\"adminMode\"\n            v-bind:show-gallery=\"depictionsOpen\"\n            v-on:on-save=\"saveToServer\"\n        ></UndergroundDepictionsConfigurator>\n      </div>\n      <div class=\"flex mt-4\">\n        <!-- Enabled: \"bg-indigo-600\", Not Enabled: \"bg-gray-200\" -->\n        <button type=\"button\" v-on:click=\"toggleFullScreen\"\n                v-bind:class=\"[ isFullscreen ? 'bg-indigo-600' : 'bg-gray-200' ]\"\n                class=\"relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                aria-pressed=\"false\">\n          <span class=\"sr-only\">Use setting</span>\n          <!-- Enabled: \"translate-x-5\", Not Enabled: \"translate-x-0\" -->\n          <span aria-hidden=\"true\"\n                v-bind:class=\"[ isFullscreen ? 'translate-x-5' : 'translate-x-0' ]\"\n                class=\"pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200\"></span>\n        </button>\n        <span class=\"text-sm font-medium pl-4\" v-if=\"isFullscreen\">Close Fullscreen</span>\n        <span class=\"text-sm font-medium pl-4\" v-if=\"!isFullscreen\">Go Fullscreen</span>\n      </div>\n      <!--      <div class=\"text-white\">-->\n      <!--        <button type=\"button\" v-on:click=\"toggleFullScreen\"-->\n      <!--                class=\"relative inline-flex items-center px-4 py-2 rounded-md border border-gray-300 bg-white text-md font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500\">-->\n      <!--          🔛 Toggle Fullscreen-->\n      <!--        </button>-->\n      <!--      </div>-->\n\n      <div class=\"py-2 mt-6 text-white\" v-if=\"adminMode\">\n        <div class=\"flex justify-between\">\n          <span class=\"font-semibold\">Admin config</span>\n          <div class=\"relative z-0 inline-flex shadow-sm rounded-md flex flex-wrap\">\n            <button type=\"button\" v-on:click=\"saveInitialStateConfig\"\n                    class=\"-ml-px relative inline-flex items-center p-1 mr-2 rounded-md border border-gray-300 bg-white text-md font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500\">\n              💾\n            </button>\n            <button type=\"button\" v-on:click=\"loadInitialStateConfig\"\n                    class=\"-ml-px relative inline-flex items-center p-1 rounded-md border border-gray-300 bg-white text-md font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500\">\n              🔁\n            </button>\n          </div>\n        </div>\n        <hr class=\"border-2 border-white mt-4 mb-4\"/>\n\n        <div class=\"flex mt-2\">\n          <!-- Enabled: \"bg-indigo-600\", Not Enabled: \"bg-gray-200\" -->\n          <Toggle v-model=\"explosionEnabled\" :classes=\"{\n                        toggleOn: 'bg-indigo-600 border-indigo-500 justify-start text-white',\n                        toggleOff: 'bg-gray-200 border-gray-200 justify-end text-gray-700'\n                    }\"></Toggle>\n          <span class=\"text-sm font-medium pl-4\" v-if=\"explosionEnabled\">Explosion Enabled</span>\n          <span class=\"text-sm font-medium pl-4\" v-if=\"!explosionEnabled\">Explosion Disabled</span>\n        </div>\n        <div v-if=\"explosionEnabled\">\n          <div class=\"mt-2 flex flex-col justify-stretch\">\n            <ExplosionConfigurator v-bind:explosion-settings=\"explosionSettings\"></ExplosionConfigurator>\n          </div>\n        </div>\n\n        <hr class=\"border border-blue-600 mt-4 mb-4\"/>\n\n        <div class=\"flex mt-4\">\n          <!-- Enabled: \"bg-indigo-600\", Not Enabled: \"bg-gray-200\" -->\n          <Toggle v-model=\"galleryEnabled\" :classes=\"{\n                        toggleOn: 'bg-indigo-600 border-indigo-500 justify-start text-white',\n                        toggleOff: 'bg-gray-200 border-gray-200 justify-end text-gray-700'\n                    }\"></Toggle>\n          <span class=\"text-sm font-medium pl-4\" v-if=\"galleryEnabled\">Gallery Enabled</span>\n          <span class=\"text-sm font-medium pl-4\" v-if=\"!galleryEnabled\">Gallery Disabled</span>\n        </div>\n        <div id=\"cyi-tools-gallery-config\"></div>\n        <hr class=\"border border-blue-600 mt-4 mb-4\"/>\n\n        <div class=\"flex mt-2\">\n          <Toggle v-model=\"depictionsEnabled\" :classes=\"{\n                        toggleOn: 'bg-indigo-600 border-indigo-500 justify-start text-white',\n                        toggleOff: 'bg-gray-200 border-gray-200 justify-end text-gray-700'\n                    }\"></Toggle>\n          <span class=\"text-sm font-medium pl-4\" v-if=\"depictionsEnabled\">GPR Enabled</span>\n          <span class=\"text-sm font-medium pl-4\" v-if=\"!depictionsEnabled\">GPR Disabled</span>\n        </div>\n        <div id=\"cyi-tools-depictions-config\"></div>\n      </div>\n    </div>\n\n    <portal selector=\"#cyi-tools-sidebar\">\n      <div id=\"cyi-tools-sidebar-content\"\n           v-bind:class=\"[sidebarOpen ? 'w-56' : 'w-0', 'fixed top-0 bottom-0 right-0 bg-gray-800 flex flex-col text-white overflow-auto']\" style=\"z-index: 100\">\n\n      </div>\n    </portal>\n\n  </div>\n</template>\n\n<script>\nimport * as THREE from 'three'\nimport {Portal} from '@linusborg/vue-simple-portal'\n\nwindow.THREE = THREE;\n\nfunction getCookie(name) {\n  let cookieValue = null;\n  if (document.cookie && document.cookie !== '') {\n    const cookies = document.cookie.split(';');\n    for (let i = 0; i < cookies.length; i++) {\n      const cookie = cookies[i].trim();\n      // Does this cookie string begin with the name we want?\n      if (cookie.substring(0, name.length + 1) === (name + '=')) {\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n        break;\n      }\n    }\n  }\n  return cookieValue;\n}\n\nconst csrftoken = getCookie('csrftoken');\nconst visConfig = JSON.parse(document.getElementById('visConfig').textContent); //Gets pointcloud json config generated from django template tag above\nimport GalleryItemsPlayer from './components/GalleryItemsPlayer.vue';\nimport GalleryItemViewer from './components/GalleryItemViewer.vue';\nimport ExplosionPlayer from './components/ExplosionPlayer.vue';\nimport ExplosionConfigurator from './components/ExplosionConfigurator.vue';\nimport UndergroundDepictionsConfigurator from \"./components/UndergroundDepictionsConfigurator.vue\";\n\nimport Toggle from '@vueform/toggle/dist/toggle.vue2.js'\n\nexport default {\n  name: 'App',\n  components: {\n    UndergroundDepictionsConfigurator,\n    ExplosionConfigurator,\n    ExplosionPlayer,\n    GalleryItemsPlayer,\n    GalleryItemViewer,\n    Portal,\n    Toggle\n  },\n  data() {\n    return {\n      //General config elements\n      viewer: window.viewer,\n      scene: null,\n      visConfig: visConfig,\n      potreeProjectConfig: null,\n      orbitControls: window.viewer.orbitControls,\n      // CYI Tools Viewer settings\n      galleryOpen: false,\n      depictionsOpen: false,\n      adminMode: window.adminMode,\n      //Admin Tools\n\n      explosionEnabled: false,\n      galleryEnabled: false,\n      depictionsEnabled: false,\n      annotationWaitingClick: false,\n      explosionSettings: {\n        explosionMoveStep: 10,\n      },\n      images: {},\n      galleryItemsConfig: {},\n      selectedImageUid: null,\n      ptPotreeReferences: {},\n      undergroundDepictionsSettings: {}\n    }\n  },\n  computed: {\n    // a computed getter\n    sidebarOpen: function () {\n      // `this` points to the vm instance\n      return this.galleryOpen\n    },\n    isFullscreen: function () {\n      return window.fullScreen;\n    }\n  },\n  created: function () {\n    let _this = this;\n    this.loadInitialStateConfig();\n    for (const [ptId, ptConf] of Object.entries(visConfig.pointclouds)) {\n      window.Potree.loadPointCloud(ptConf.url, ptConf.title, function (e) {\n        let pointcloud = e.pointcloud;\n        _this.ptPotreeReferences[ptId] = pointcloud;\n        _this.viewer.scene.addPointCloud(pointcloud);\n        _this.viewer.fitToScreen();\n        _this.initializeExplosionIfNewModel(ptId);\n      });\n    }\n\n    const axesHelper = new THREE.AxesHelper(5);\n    this.viewer.scene.scene.add(axesHelper); // Potree saves the THREEJs scene under a scene ref in the Potree scene\n    this.orbitControls = this.viewer.getControls();\n    window.addEventListener('keydown', this.keyDown);\n    window.app = this;\n  },\n  methods: {\n    keyDown: function (e) {\n      const rot = 0.01;\n      const zom = 0.05\n      const mov = 0.001;\n      switch (e.code) {\n        case \"KeyS\":\n        case \"ArrowDown\":\n          // Handle \"back\"\n          //this.orbitControls.panDelta.x += l;\n          //this.orbitControls.panDelta.y += l;\n          this.orbitControls.pitchDelta += rot;\n          break;\n        case \"KeyW\":\n        case \"ArrowUp\":\n          // Handle \"forward\"\n          //this.orbitControls.panDelta.x -= l;\n          //this.orbitControls.panDelta.y -= l;\n          this.orbitControls.pitchDelta -= rot;\n          break;\n        case \"KeyA\":\n        case \"ArrowLeft\":\n          // Handle \"turn left\"\n          this.orbitControls.yawDelta -= rot;\n          //this.orbitControls.pitchDelta -= l;\n          break;\n        case \"KeyD\":\n        case \"ArrowRight\":\n          // Handle \"turn right\"\n          this.orbitControls.yawDelta += rot;\n          //this.orbitControls.pitchDelta += l;\n          break;\n        case \"KeyQ\":\n          this.orbitControls.panDelta.y += mov;\n          break;\n        case \"KeyE\":\n          this.orbitControls.panDelta.y -= mov;\n          break;\n        case \"KeyZ\":\n          this.orbitControls.panDelta.x -= mov;\n          break;\n        case \"KeyC\":\n          this.orbitControls.panDelta.x += mov;\n          break;\n        case \"KeyR\":\n          this.orbitControls.radiusDelta += zom;\n          break;\n        case \"KeyF\":\n          this.orbitControls.radiusDelta -= zom;\n          break;\n      }\n      //this.orbitControls.update(0.01);\n    },\n    toggleFullScreen: function () {\n      if (!document.fullscreenElement) {\n        document.documentElement.requestFullscreen();\n      } else {\n        if (document.exitFullscreen) {\n          document.exitFullscreen();\n        }\n      }\n    },\n    saveConfigOnServer: function () {\n      //Gather all important stuff to send on the server.\n      // The set of info we will send will be the visConfig\n      // that we shall get in the future\n      const dataToSave = {\n        \"potree\": this.potreeProjectConfig,\n        \"customFeatures\": {\n          \"explosionEnabled\": this.explosionEnabled,\n          \"galleryEnabled\": this.galleryEnabled,\n          \"depictionsEnabled\": this.depictionsEnabled,\n          \"explosionSettings\": this.explosionSettings,\n          \"galleryItemsSettings\": this.galleryItemsConfig,\n          \"undergroundDepictionsSettings\": this.undergroundDepictionsSettings,\n        }\n      }\n      const url = 'config-update';\n      const request = new Request(\n          url,\n          {headers: {'X-CSRFToken': csrftoken}}\n      );\n      fetch(request, {\n        method: 'POST',\n        body: JSON.stringify(dataToSave),\n        mode: 'same-origin'  // Do not send CSRF token to another domain.\n      }).then(function () {\n        console.log(\"Done saving on server\")\n      });\n\n    },\n    saveToServer() {\n      this.saveConfigOnServer();\n    },\n    saveInitialStateConfig: function () {\n      this.potreeProjectConfig = window.Potree.saveProject(this.viewer);\n      //Save on server\n      this.saveConfigOnServer();\n    },\n    loadInitialStateConfig: function () {\n      this.images = visConfig?.images; //Copy image definitions from visConfig to app\n      this.undergroundDepictions = visConfig?.undergroundDepictions;\n      this.potreeProjectConfig = this.visConfig.jsConf?.potree;\n      this.customFeaturesConfig = this.visConfig.jsConf?.customFeatures;\n\n      // For initialization, for now, we decide not to load any measurements or volumes etc\n      /*\n      data.measurements = [];\n      data.volumes = [];\n      data.cameraAnimations = [];\n      data.classification = {};\n      //data.profiles = data.profiles || [];\n      //data.orientedImages =data.orientedImages || [];\n      //data.annotations = data.annotations || []; //Should be passed to the Vue component for editing, and also be saved on the conf properly\n      Potree.loadProject(this.viewer, data);\n       */\n\n      this.galleryItemsConfig = this.customFeaturesConfig?.galleryItemsSettings || {};\n      this.explosionEnabled = this.customFeaturesConfig?.explosionEnabled || false;\n      this.galleryEnabled = this.customFeaturesConfig?.galleryEnabled || false;\n      this.depictionsEnabled = this.customFeaturesConfig?.depictionsEnabled || false;\n      this.depictionsOpen = this.depictionsEnabled;\n      if (this.customFeaturesConfig?.explosionSettings) {\n        this.explosionSettings = this.customFeaturesConfig?.explosionSettings\n      }\n      if (this.customFeaturesConfig?.undergroundDepictionsSettings) {\n        this.undergroundDepictionsSettings = this.customFeaturesConfig.undergroundDepictionsSettings\n      }\n    },\n    initializeExplosionIfNewModel: function (ptId) {\n      if (!this.explosionSettings.ptModels) {\n        this.explosionSettings.ptModels = {};\n      }\n      if (!this.explosionSettings.ptModels[ptId]) {\n        this.explosionSettings.ptModels[ptId] = {\n          title: this.visConfig.pointclouds[ptId].title,\n          direction: '',\n          ptId: ptId,\n          initialPos: this.ptPotreeReferences[ptId].position.clone()\n        }\n      }\n    },\n    addAnnotation: function () {\n      this.annotationWaitingClick = true;\n      let _this = this;\n      this.viewer.renderer.domElement.addEventListener('mousedown', () => {\n        _this.annotationWaitingClick = false;\n        // remove old annotations\n        //if (currentAnnotation !== null) {\n        //    scene.removeAnnotation(currentAnnotation);\n        // }\n\n        // find intersection\n        let mouse = this.viewer.inputHandler.mouse;\n        const camera = this.viewer.scene.getActiveCamera();\n\n        let hit = window.Potree.Utils.getMousePointCloudIntersection(mouse, camera, this.viewer, this.viewer.scene.pointclouds);\n        console.log(hit);\n\n        // add new annotation\n        if (hit !== null) {\n          let currentAnnotation = this.viewer.scene.addAnnotation([\n            hit.location.x,\n            hit.location.y,\n            hit.location.z\n          ], {\n            \"title\": `(${hit.location.x},${hit.location.y},${hit.location.z})`,\n            \"actions\": []\n          });\n          console.log(currentAnnotation);\n        }\n      }, {once: true});\n    },\n    csvToFloatList: function (param) {\n      let parts = param.split(',');\n      if (!parts.length) {\n        return null;\n      }\n      let res = parts.map((pt) => {\n        return parseFloat(pt)\n      });\n      return res;\n    },\n    closePotreeSidebar: function(){\n      if (window.$('#potree_render_area').position().left > 0){\n        window.$(\".potree_menu_toggle\").click()\n      }\n    },\n    selectGalleryImage: function (imgUID) {\n      this.closePotreeSidebar();\n      this.selectedImageUid = imgUID; // this.images[imgUID];\n      const conf = this.galleryItemsConfig[imgUID];\n      if (conf) {\n        if (conf.viewTarget && conf.viewPosition) {\n          this.viewer.setCameraMode(conf.cameraMode); //window.Potree.CameraMode.ORTHOGRAPHIC);\n          this.viewer.scene.view.setView(this.csvToFloatList(conf.viewPosition), this.csvToFloatList(conf.viewTarget));\n        }\n      }\n    },\n    closeGalleryImage: function () {\n      this.selectedImageUid = null;\n    },\n    saveOrientationOnSelectedImage: function (imgUID) {\n      const cameraPositionStr = this.viewer.scene.view.position.toArray().toString();\n      const targetStr = this.viewer.scene.view.getPivot().toArray().toString();\n      const cameraMode = this.viewer.scene.cameraMode;\n      if (!this.galleryItemsConfig[imgUID]) {\n        this.galleryItemsConfig[imgUID] = {}\n      }\n      this.galleryItemsConfig[imgUID].viewTarget = targetStr;\n      this.galleryItemsConfig[imgUID].viewPosition = cameraPositionStr;\n      this.galleryItemsConfig[imgUID].cameraMode = cameraMode;\n      this.galleryItemsConfig[imgUID].browserWidth = document.documentElement.clientWidth;\n      this.galleryItemsConfig[imgUID].browserHeight = document.documentElement.clientHeight;\n      this.saveConfigOnServer();\n    },\n    render: function () {\n      //viewer.renderer.render( this.scene , this.camera);\n      this.viewer.renderer.render(this.viewer.scene.scene, this.viewer.scene.getActiveCamera());\n    }\n  }\n}\n</script>\n\n<style>\n#admin-app {\n  /*font-family: Avenir, Helvetica, Arial, sans-serif;*/\n  /*-webkit-font-smoothing: antialiased;*/\n  /*-moz-osx-font-smoothing: grayscale;*/\n  /*text-align: center;*/\n  /*color: #2c3e50;*/\n  /*margin-top: 60px;*/\n}\n</style>\n<style src=\"@vueform/toggle/themes/default.css\"></style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=a5cde0da&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"@vueform/toggle/themes/default.css?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport AdminApp from './App.vue'\nimport VueCompositionAPI from '@vue/composition-api'\nVue.use(VueCompositionAPI)\n\n\nVue.config.productionTip = false\n\n// import App from './App.vue'\n//\n// new Vue({\n//   render: h => h(App),\n// }).$mount('#app')\n\nlet $ = window.$;\nlet Potree = window.Potree;\nwindow.viewer = new Potree.Viewer(document.getElementById(\"potree_render_area\"));\nconst visConfig = JSON.parse(document.getElementById('visConfig').textContent); //Gets pointcloud json config generated from django template tag above\n\nlet viewer = window.viewer;\nviewer.setFOV(60);\nviewer.setPointBudget(1 * 1000 * 1000);\nviewer.setMinNodeSize(0);\n//viewer.loadSettingsFromURL();\nviewer.setDescription(visConfig.title);\n\n\nconst { menuConf } = visConfig;\nif (menuConf.toolsEnabled){\n    viewer.loadGUI().then(() => {\n        viewer.setLanguage('en');\n        if (!menuConf.showTools){\n            $(\"#menu_tools\").next().html(\"\");\n            $(\"#menu_tools\").hide();\n        }\n        if (!menuConf.showScene){\n            $(\"#menu_scene\").next().html(\"\");\n            $(\"#menu_scene\").hide();\n        }\n        if (!menuConf.showFilters){\n            $(\"#menu_filters\").next().html(\"\");\n            $(\"#menu_filters\").hide();\n        }\n        if (!menuConf.showAbout){\n            $(\"#menu_about\").next().html(\"\");\n            $(\"#menu_about\").hide();\n        }\n        if (!menuConf.showAppearance){\n            $(\"#menu_appearance\").next().html(\"\");\n            $(\"#menu_appearance\").hide();\n        }\n\n        let section = $(`\n        <h3 id=\"menu_meta\" class=\"accordion-header ui-widget\"><span>CYI Tools</span></h3>\n        <div class=\"accordion-content ui-widget pv-menu-list\"></div>\n        `);\n        let content = section.last();\n        content.html(`\n        <div id=\"cyi-app\">\n        </div>\n        `);\n        section.first().click(() => content.slideToggle());\n        $('#potree_menu').append(section)\n        //section.insertBefore($('#menu_about'));\n\n        new Vue({\n          render: h => h(AdminApp),\n        }).$mount('#cyi-app')\n\n\n    });\n}","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GalleryItemViewer.vue?vue&type=style&index=0&id=54d83422&scoped=true&lang=css&\""],"sourceRoot":""}